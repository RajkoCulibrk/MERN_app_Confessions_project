[{"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\index.js":"1","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\App.js":"2","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\components\\Navigation.js":"3","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\screens\\Register.js":"4","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\screens\\Home.js":"5","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\screens\\Login.js":"6","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\store.js":"7","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\reducers\\userReducers.js":"8","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\constants\\userConstants.js":"9","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\actions\\userActions.js":"10","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\utils\\setAuthToken.js":"11","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\reducers\\confessionsReducer.js":"12","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\actions\\confessionsActions.js":"13","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\components\\Confession.js":"14"},{"size":287,"mtime":1610822999418,"results":"15","hashOfConfig":"16"},{"size":1187,"mtime":1611053680809,"results":"17","hashOfConfig":"16"},{"size":1477,"mtime":1610976465806,"results":"18","hashOfConfig":"16"},{"size":2546,"mtime":1610976111470,"results":"19","hashOfConfig":"16"},{"size":683,"mtime":1611053725587,"results":"20","hashOfConfig":"16"},{"size":1595,"mtime":1610974885904,"results":"21","hashOfConfig":"16"},{"size":744,"mtime":1611052963415,"results":"22","hashOfConfig":"16"},{"size":803,"mtime":1610976671099,"results":"23","hashOfConfig":"16"},{"size":208,"mtime":1610824369769,"results":"24","hashOfConfig":"16"},{"size":2414,"mtime":1610976704212,"results":"25","hashOfConfig":"16"},{"size":253,"mtime":1610908307180,"results":"26","hashOfConfig":"16"},{"size":538,"mtime":1610977711993,"results":"27","hashOfConfig":"16"},{"size":934,"mtime":1611085908220,"results":"28","hashOfConfig":"16"},{"size":2873,"mtime":1611088275753,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"meb5zv",{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64"},"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\index.js",[],["65","66"],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\App.js",["67"],"import \"./App.css\";\nimport Navigation from \"./components/Navigation\";\nimport Home from \"./screens/Home\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Register from \"./screens/Register\";\nimport { Container } from \"react-bootstrap\";\nimport Login from \"./screens/Login\";\nimport { login } from \"./actions/userActions\";\nimport { loadConfessions } from \"./actions/confessionsActions\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const caller = async () => {\n    await dispatch(login());\n    dispatch({\n      type: \"CLEAR_ERROR\",\n    });\n  };\n\n  useEffect(() => {\n    dispatch(loadConfessions());\n    caller();\n  }, [dispatch, caller]);\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navigation />\n        <Container>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/login\" component={Login} />\n          </Switch>\n        </Container>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\components\\Navigation.js",["68"],"import React from \"react\";\r\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout } from \"../actions/userActions\";\r\nconst Navigation = () => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n  const { authenticated, loading, userInfo } = user;\r\n  return (\r\n    <div>\r\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Link to=\"/\">Confessions</Link>\r\n\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav className=\"mr-auto\"></Nav>\r\n          <Nav>\r\n            {userInfo ? (\r\n              <Button\r\n                variant=\"outline-light\"\r\n                onClick={() => dispatch(logout())}\r\n              >\r\n                Logout\r\n              </Button>\r\n            ) : (\r\n              <>\r\n                {\" \"}\r\n                <Link to=\"/login\">\r\n                  {\" \"}\r\n                  <Button variant=\"outline-light\">Login</Button>\r\n                </Link>\r\n                <Link to=\"/Register\">\r\n                  {\" \"}\r\n                  <Button variant=\"outline-light\">Register</Button>\r\n                </Link>\r\n              </>\r\n            )}\r\n            {authenticated}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\screens\\Register.js",[],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\screens\\Home.js",["69","70"],"import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { loadConfessions } from \"../actions/confessionsActions\";\r\nimport Confession from \"../components/Confession\";\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  const { confessionsList } = useSelector((state) => state);\r\n  const { confessions } = confessionsList;\r\n\r\n  useEffect(() => {\r\n    console.log(\"ffffffffffffffffffff\");\r\n  }, []);\r\n  return (\r\n    <div className=\"w-60 m-auto bg-light\">\r\n      {confessions.map((confession) => (\r\n        <Confession key={confession._id} confession={confession} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\screens\\Login.js",["71","72"],"import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button, Alert, Spinner } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authenticate, login } from \"../actions/userActions\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  const user = useSelector((state) => state.user);\r\n  const { error, loading, userInfo } = user;\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(authenticate(email, password));\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={submitHandler}>\r\n      {userInfo && <Redirect to=\"/\" />}\r\n      {loading && <Spinner animation=\"border\" variant=\"primary\" />}\r\n\r\n      {error?.length > 1 && <Alert variant=\"danger\">{error}</Alert>}\r\n      <Form.Group controlId=\"formBasicEmail\">\r\n        <Form.Label>Email address</Form.Label>\r\n        <Form.Control\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group controlId=\"formBasicPassword\">\r\n        <Form.Label>Password</Form.Label>\r\n        <Form.Control\r\n          value={password}\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Password\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Button variant=\"primary\" type=\"submit\">\r\n        Submit\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\store.js",[],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\reducers\\userReducers.js",[],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\constants\\userConstants.js",[],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\actions\\userActions.js",["73"],"import {\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_FAIL,\r\n  USER_LOGIN_SUCCESS,\r\n} from \"../constants/userConstants\";\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nimport axios from \"axios\";\r\n\r\nexport const login = () => async (dispatch) => {\r\n  setAuthToken(localStorage.getItem(\"token\"));\r\n  try {\r\n    dispatch({\r\n      type: USER_LOGIN_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(\"/api/auth\", config);\r\n\r\n    dispatch({\r\n      type: USER_LOGIN_SUCCESS,\r\n      payload: data,\r\n    });\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n  } catch (error) {\r\n    let errorMessage = error.response.data.errors\r\n      ? error.response.data.errors[0].msg\r\n      : error.response.data.msg;\r\n    dispatch(setAlert(errorMessage));\r\n    localStorage.removeItem(\"userInfo\");\r\n    localStorage.removeItem(\"token\");\r\n  }\r\n};\r\n\r\nexport const authenticate = (email, password) => async (dispatch) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/auth\", { email, password });\r\n    const token = data.token;\r\n    localStorage.setItem(\"token\", token);\r\n    console.log(token);\r\n    if (localStorage.token) {\r\n      dispatch(login());\r\n    }\r\n  } catch (error) {\r\n    let errorMessage = error.response.data.errors\r\n      ? error.response.data.errors[0].msg\r\n      : error.response.data.msg;\r\n    dispatch(setAlert(errorMessage));\r\n  }\r\n};\r\n\r\nexport const setAlert = (text) => async (dispatch) => {\r\n  dispatch({\r\n    type: \"SET_ERROR\",\r\n    payload: text,\r\n  });\r\n  let errTimeout;\r\n  clearTimeout(errTimeout);\r\n  errTimeout = setTimeout(() => {\r\n    dispatch({\r\n      type: \"CLEAR_ERROR\",\r\n    });\r\n  }, 5000);\r\n};\r\n\r\nexport const register = (email, password, name) => async (dispatch) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/users\", { password, name, email });\r\n    const token = data.token;\r\n    localStorage.setItem(\"token\", token);\r\n    dispatch(login());\r\n  } catch (error) {\r\n    let errorMessage = error.response.data.errors\r\n      ? error.response.data.errors[0].msg\r\n      : error.response.data.msg;\r\n    dispatch(setAlert(errorMessage));\r\n    localStorage.removeItem(\"token\");\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"userInfo\");\r\n  dispatch({ type: \"USER_LOGOUT\" });\r\n};\r\n","C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\utils\\setAuthToken.js",[],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\reducers\\confessionsReducer.js",[],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\actions\\confessionsActions.js",[],"C:\\Users\\lenovo\\Desktop\\react_course\\confessions_project\\client\\src\\components\\Confession.js",["74","75","76"],"import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { like, dislike, checkIfLiked } from \"../actions/confessionsActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nconst Confession = ({ confession }) => {\r\n  let { body, _id, likes, dislikes, author } = confession;\r\n  const { user } = useSelector((state) => state);\r\n  const { userInfo } = user;\r\n  let [likesDisplayed, setLikesDisplayed] = useState(likes);\r\n  let [dislikesDisplayed, setDislikesDisplayed] = useState(dislikes);\r\n  let [liked, SetLiked] = useState(false);\r\n  let [disliked, SetDisliked] = useState(false);\r\n  let history = useHistory();\r\n  const likeHandler = () => {\r\n    if (userInfo) {\r\n      like(_id);\r\n      if (liked) {\r\n        setLikesDisplayed(likesDisplayed - 1);\r\n      } else {\r\n        setLikesDisplayed(likesDisplayed + 1);\r\n        if (disliked) {\r\n          setDislikesDisplayed(dislikesDisplayed - 1);\r\n          SetDisliked(!disliked);\r\n        }\r\n      }\r\n      SetLiked(!liked);\r\n    } else {\r\n      history.push(\"/login\");\r\n    }\r\n  };\r\n\r\n  const dislikeHandler = () => {\r\n    if (userInfo) {\r\n      dislike(_id);\r\n      if (disliked) {\r\n        setDislikesDisplayed(dislikesDisplayed - 1);\r\n      } else {\r\n        setDislikesDisplayed(dislikesDisplayed + 1);\r\n        if (liked) {\r\n          setLikesDisplayed(likesDisplayed - 1);\r\n          SetLiked(!liked);\r\n        }\r\n      }\r\n      SetDisliked(!disliked);\r\n    } else {\r\n      history.push(\"/login\");\r\n    }\r\n  };\r\n  const checkLikeDislike = async () => {\r\n    let likeDislike = await checkIfLiked(_id);\r\n    SetLiked(likeDislike.liked);\r\n    SetDisliked(likeDislike.disliked);\r\n  };\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      checkLikeDislike();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"confession w-50 bg-dark text-light p-2  ml-auto mr-auto mb-5\">\r\n      <div className=\"d-flex justify-content-between p-2 \">\r\n        <span>{author}</span>\r\n        <span>18 Jan 21</span>\r\n      </div>\r\n      <div className=\"confession__body  mb-2\">{body}</div>\r\n      <div className=\"confession__footer d-flex justify-content-between\">\r\n        <div onClick={likeHandler} className=\"confession_footer__item\">\r\n          <Button variant={liked ? \"success\" : \"secondary\"}>\r\n            Approve {likesDisplayed}\r\n          </Button>\r\n        </div>\r\n        <div onClick={dislikeHandler} className=\"confession_footer__item\">\r\n          <Button variant={disliked ? \"danger\" : \"secondary\"}>\r\n            Disaprove {dislikesDisplayed}\r\n          </Button>\r\n        </div>\r\n        <div className=\"confession_footer__item\">\r\n          {\" \"}\r\n          <Button variant={\"secondary\"}>Comments</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Confession;\r\n",{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":16,"column":9,"nodeType":"83","endLine":21,"endColumn":4},{"ruleId":"84","severity":1,"message":"85","line":10,"column":26,"nodeType":"86","messageId":"87","endLine":10,"endColumn":33},{"ruleId":"84","severity":1,"message":"88","line":3,"column":10,"nodeType":"86","messageId":"87","endLine":3,"endColumn":25},{"ruleId":"84","severity":1,"message":"89","line":7,"column":9,"nodeType":"86","messageId":"87","endLine":7,"endColumn":17},{"ruleId":"84","severity":1,"message":"90","line":1,"column":27,"nodeType":"86","messageId":"87","endLine":1,"endColumn":36},{"ruleId":"84","severity":1,"message":"91","line":4,"column":24,"nodeType":"86","messageId":"87","endLine":4,"endColumn":29},{"ruleId":"84","severity":1,"message":"92","line":3,"column":3,"nodeType":"86","messageId":"87","endLine":3,"endColumn":18},{"ruleId":"84","severity":1,"message":"93","line":2,"column":23,"nodeType":"86","messageId":"87","endLine":2,"endColumn":34},{"ruleId":"84","severity":1,"message":"94","line":6,"column":8,"nodeType":"86","messageId":"87","endLine":6,"endColumn":13},{"ruleId":"81","severity":1,"message":"95","line":61,"column":6,"nodeType":"96","endLine":61,"endColumn":8,"suggestions":"97"},"no-native-reassign",["98"],"no-negated-in-lhs",["99"],"react-hooks/exhaustive-deps","The 'caller' function makes the dependencies of useEffect Hook (at line 26) change on every render. Move it inside the useEffect callback. Alternatively, wrap the definition of 'caller' in its own useCallback() Hook.","VariableDeclarator","no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","'loadConfessions' is defined but never used.","'dispatch' is assigned a value but never used.","'useEffect' is defined but never used.","'login' is defined but never used.","'USER_LOGIN_FAIL' is defined but never used.","'useDispatch' is defined but never used.","'axios' is defined but never used.","React Hook useEffect has missing dependencies: 'checkLikeDislike' and 'userInfo'. Either include them or remove the dependency array.","ArrayExpression",["100"],"no-global-assign","no-unsafe-negation",{"desc":"101","fix":"102"},"Update the dependencies array to be: [checkLikeDislike, userInfo]",{"range":"103","text":"104"},[1857,1859],"[checkLikeDislike, userInfo]"]